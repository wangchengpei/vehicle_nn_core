# Vehicle NN Core

é«˜æ€§èƒ½è½¦è¾†nanomsgæ¶ˆæ¯å¤„ç†æ ¸å¿ƒåº“ï¼Œä½¿ç”¨Rustå®ç°ï¼Œä¸“ä¸ºè½¦è½½ç¯å¢ƒä¼˜åŒ–ã€‚

## ğŸ¯ é¡¹ç›®ç›®æ ‡

æ›¿ä»£Pythonå®ç°çš„nanomsgæ¶ˆæ¯å¤„ç†é€»è¾‘ï¼Œæä¾›ï¼š
- **é«˜æ€§èƒ½**ï¼š10x+ æ¶ˆæ¯å¤„ç†é€Ÿåº¦æå‡
- **ä½å†…å­˜**ï¼š3-5x å†…å­˜ä½¿ç”¨å‡å°‘
- **ä½å»¶è¿Ÿ**ï¼šå¾®ç§’çº§æ¶ˆæ¯å¤„ç†å»¶è¿Ÿ
- **é«˜å¯é æ€§**ï¼šé›¶æ‹·è´ã€æ— GCæš‚åœ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
vehicle_nn_core/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs              # åº“å…¥å£
â”‚   â”œâ”€â”€ types.rs            # æ•°æ®ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ message_processor.rs # æ¶ˆæ¯å¤„ç†å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ nanomsg_client.rs   # Nanomsgå®¢æˆ·ç«¯ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ performance.rs      # æ€§èƒ½ç›‘æ§
â”‚   â”œâ”€â”€ error.rs           # é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ tests.rs           # å•å…ƒæµ‹è¯•
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ basic_usage.rs     # åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ benches/
â”‚   â””â”€â”€ message_processing.rs # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”œâ”€â”€ Cargo.toml             # é¡¹ç›®é…ç½®
â”œâ”€â”€ build.sh              # æ„å»ºè„šæœ¬
â”œâ”€â”€ test.sh               # æµ‹è¯•è„šæœ¬
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…Rust (å¦‚æœè¿˜æ²¡æœ‰)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd vehicle_nn_core
```

### æ„å»ºé¡¹ç›®

```bash
# ä½¿ç”¨æ„å»ºè„šæœ¬
chmod +x build.sh
./build.sh

# æˆ–è€…æ‰‹åŠ¨æ„å»º
cargo build --release
```

### è¿è¡Œæµ‹è¯•

```bash
# ä½¿ç”¨æµ‹è¯•è„šæœ¬
chmod +x test.sh
./test.sh

# æˆ–è€…æ‰‹åŠ¨æµ‹è¯•
cargo test
```

### è¿è¡Œç¤ºä¾‹

```bash
cargo run --example basic_usage
```

## ğŸ“Š æ€§èƒ½åŸºå‡†

è¿è¡ŒåŸºå‡†æµ‹è¯•ï¼š

```bash
cargo bench
```

é¢„æœŸæ€§èƒ½æŒ‡æ ‡ï¼š
- æ¶ˆæ¯åˆ›å»ºï¼š< 1Î¼s
- JSONåºåˆ—åŒ–ï¼š< 10Î¼s (å°æ¶ˆæ¯)
- æ¶ˆæ¯å“ˆå¸Œï¼š< 0.5Î¼s
- é‡‡æ ·å†³ç­–ï¼š< 0.1Î¼s

## ğŸ”§ æ ¸å¿ƒç‰¹æ€§

### æ¶ˆæ¯ç±»å‹

- **VehicleMessage**: æ ‡å‡†è½¦è¾†æ¶ˆæ¯ç»“æ„
- **MessagePriority**: ä¸‰çº§ä¼˜å…ˆçº§ç³»ç»Ÿ
- **ProcessingStats**: å®æ—¶æ€§èƒ½ç»Ÿè®¡

### æ€§èƒ½ä¼˜åŒ–

- **æ™ºèƒ½é‡‡æ ·**: å¯é…ç½®çš„æ¶ˆæ¯é‡‡æ ·ç‡
- **ä¼˜å…ˆçº§é˜Ÿåˆ—**: å…³é”®æ¶ˆæ¯ä¼˜å…ˆå¤„ç†
- **é›¶æ‹·è´**: æœ€å°åŒ–å†…å­˜åˆ†é…
- **æ‰¹é‡å¤„ç†**: å‡å°‘ç³»ç»Ÿè°ƒç”¨å¼€é”€

### ç›‘æ§åŠŸèƒ½

- **å®æ—¶ç»Ÿè®¡**: ååé‡ã€å»¶è¿Ÿã€ä¸¢å¼ƒç‡
- **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨æ€§èƒ½è­¦å‘Š
- **å¯è§‚æµ‹æ€§**: ç»“æ„åŒ–æ—¥å¿—è¾“å‡º

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

```rust
use vehicle_nn_core::*;

#[tokio::main]
async fn main() -> Result<()> {
    // åˆ›å»ºæ€§èƒ½ç›‘æ§å™¨
    let monitor = PerformanceMonitor::new(
        std::time::Duration::from_secs(5)
    );
    
    // åˆ›å»ºæ¶ˆæ¯
    let mut message = VehicleMessage::new(
        "tracking".to_string(),
        "VIN123".to_string(),
        chrono::Utc::now().timestamp() as f64,
    );
    
    // å¤„ç†æ¶ˆæ¯
    let start = std::time::Instant::now();
    process_message(&message).await?;
    monitor.record_processed(start.elapsed());
    
    Ok(())
}
```

## ğŸ§ª æµ‹è¯•è¦†ç›–

- âœ… å•å…ƒæµ‹è¯•ï¼šæ ¸å¿ƒæ•°æ®ç»“æ„
- âœ… æ€§èƒ½æµ‹è¯•ï¼šåŸºå‡†æµ‹è¯•å¥—ä»¶
- âœ… é›†æˆæµ‹è¯•ï¼šç«¯åˆ°ç«¯æµç¨‹
- â³ æ¨¡ç³Šæµ‹è¯•ï¼šè¾¹ç•Œæ¡ä»¶ï¼ˆè®¡åˆ’ä¸­ï¼‰

## ğŸ“‹ å¼€å‘è®¡åˆ’

### Phase 1: æ ¸å¿ƒæ•°æ®ç»“æ„ âœ…
- [x] æ¶ˆæ¯ç±»å‹å®šä¹‰
- [x] é”™è¯¯å¤„ç†
- [x] æ€§èƒ½ç›‘æ§
- [x] åŸºç¡€æµ‹è¯•

### Phase 2: æ¶ˆæ¯å¤„ç†å™¨ â³
- [ ] å¤šä¼˜å…ˆçº§é˜Ÿåˆ—
- [ ] å¼‚æ­¥æ¶ˆæ¯å¤„ç†
- [ ] é‡‡æ ·å’Œè¿‡æ»¤
- [ ] æ‰¹é‡å¤„ç†

### Phase 3: Nanomsgé›†æˆ â³
- [ ] Nanomsgå®¢æˆ·ç«¯
- [ ] è¿æ¥ç®¡ç†
- [ ] é”™è¯¯æ¢å¤
- [ ] æ€§èƒ½ä¼˜åŒ–

### Phase 4: Pythoné›†æˆ â³
- [ ] PyO3 FFIç»‘å®š
- [ ] PythonåŒ…è£…å™¨
- [ ] å…¼å®¹æ€§æµ‹è¯•
- [ ] éƒ¨ç½²è„šæœ¬

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Rustå®˜æ–¹æ–‡æ¡£](https://doc.rust-lang.org/)
- [Tokioå¼‚æ­¥è¿è¡Œæ—¶](https://tokio.rs/)
- [Serdeåºåˆ—åŒ–æ¡†æ¶](https://serde.rs/)
- [CriterionåŸºå‡†æµ‹è¯•](https://bheisler.github.io/criterion.rs/)